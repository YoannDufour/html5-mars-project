<html>
<head>
        <link rel="stylesheet" type="text/css" href="style/ingenieur.css">
</head>
<body>
    <div class="slidecontainer">
        <div id="NrgRest">Énergie Restante : </div><div id="NRG"> 0</div>
        <p>Énergie Propulseurs:</p><p id="ThurstInfos" class="NumLvl">33</p>
        <input type="range" min="0" max="100" value="33" id="Propulseurs" class="slider" onchange="updateValOf(this.value, 'ThurstInfos',this.id);">
        <p>Énergie Bouclier:</p><p id="ShieldInfos" class="NumLvl">33</p>
        <input type="range" min="0" max="100" value="33" id="Bouclier" class="slider" onchange="updateValOf(this.value, 'ShieldInfos',this.id);">
        <p>Énergie Système Survie:</p><p id="SystemInfos" class="NumLvl">33</p>
        <input type="range" min="0" max="100" value="33" id="Système" class="slider" onchange="updateValOf(this.value, 'SystemInfos',this.id);">
</body>
</html>

<script>
   
function updateValOf (val, aimID, slideID ) {
    if(checkEnergy() < -100){
        document.getElementById(aimID).innerHTML=33;
        document.getElementById(slideID).value=33;
        document.getElementById('NrgRest').style.background= 'red';
        document.getElementById('NRG').style.background= 'red';
        setTimeout(()=>{document.getElementById('NrgRest').style.background= '#01700e';
        document.getElementById('NRG').style.background= '#01700e';},1000)
    } else {
        document.getElementById(aimID).innerHTML=val;
        document.getElementById('NRG').innerHTML= 100 - (parseInt(document.getElementById("Propulseurs").value) + parseInt(document.getElementById("Bouclier").value) + parseInt(document.getElementById("Système").value));
    }
}

function checkEnergy () {
    var TotalEnergy = 100 - (parseInt(document.getElementById("Propulseurs").value) + parseInt(document.getElementById("Bouclier").value) + parseInt(document.getElementById("Système").value));
    var EnergyUsed = parseInt(document.getElementById("Propulseurs").value) + parseInt(document.getElementById("Bouclier").value) + parseInt(document.getElementById("Système").value);
   console.log({TotalEnergy});
   console.log({EnergyUsed});
    return parseInt(TotalEnergy-EnergyUsed);
}
</script>